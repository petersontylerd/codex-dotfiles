# schema_version: 1.0.0
metadata:
  project_code: ""            # string, e.g., "APOLLO"
  product_name: ""            # string
  date: ""                    # ISO 8601
  facilitator: ""             # string
  stakeholders: []            # [name or role]
  schema_version: "1.0.0"     # fixed

context:
  elevator_pitch_one_liner: ""     # string
  elevator_pitch_30sec: ""         # string
  problem_statement: ""            # who, pain, frequency, workaround
  non_goals: []                    # [string]
  assumptions: []                  # [string]

personas:
  primary:
    - id: ""                       # e.g., "P-01"
      name: ""
      role: ""
      jtbd: []                     # [situation → motivation → outcome]
      pains: []
      success_criteria: []
      environment:
        devices: []
        systems: []
      data_literacy: ""            # low|medium|high
      ai_comfort: ""               # low|medium|high
  secondary: []                    # same shape as primary (optional)
  buyers: []                       # simple strings for now
  influencers: []                  # simple strings for now

workflows:
  - id: ""                         # e.g., "WF-01"
    name: ""
    trigger: ""
    actors: []                     # [persona.id or role]
    preconditions: []
    steps: []
    success_criteria: []
    failure_modes: []
    systems: []
    inputs: []
    outputs: []
    slas:
      latency_ms: 0
      availability: ""
      data_freshness: ""

market:
  segments: []
  icp: ""
  competitors_alternatives: []
  differentiators: []
  adoption_risks: []               # pricing/GTM intentionally excluded here

data:
  sources: []
  ownership: ""
  volume_scale: ""
  freshness: ""
  quality_issues: []
  access_constraints: []
  pii_sensitivity: ""              # none|low|medium|high
  governance_notes: ""

ai_plan:
  candidate_approaches: []
  selected_approach: ""
  model_options: []
  retrieval_plan:
    use_rag: false
    sources: []
    chunking: ""
    freshness_policy: ""
  prompting_evals:
    eval_metrics: []
    eval_methods: []
    target_thresholds: {}
  guardrails_safety:
    pii_handling: ""
    jailbreak_protection: ""
    content_safety: ""
    human_in_the_loop: ""
  telemetry:
    quality_signals: []
    cost_per_request_target: ""
    latency_target_ms: 0

value_roi:
  outcomes: []
  roi_formula: ""                  # explicit formula required
  roi_inputs:
    - name: ""
      value: 0
      unit: ""
      source: ""
  payback_period_months: 0

requirements:
  functional_hypotheses: []
  non_functional:
    availability: ""
    latency_ms_p95: 0
    throughput_rps: 0
    privacy_compliance: []         # optional at prototype stage
    localization: []
    observability: []

metrics:
  north_star: ""
  input_metrics: []
  proxy_metrics: []

risks:
  - id: ""                         # e.g., "R-01"
    description: ""
    type: ""                       # tech|data|legal|market|ops
    mitigation: ""
    owner: ""

experiments:
  - id: ""                         # e.g., "EXP-01"
    hypothesis: ""
    test: ""
    success_metric: ""
    expected_effect: ""
    next_step_if_win: ""
    next_step_if_lose: ""
    status: ""                     # planned|running|done

decision_log:
  - id: ""                         # e.g., "D-01"
    decision: ""
    rationale: ""
    date: ""
    owners: []

open_questions:
  - id: ""                         # e.g., "Q-01"
    question: ""
    blocking: false
    owner: ""
